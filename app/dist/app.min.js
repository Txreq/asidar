(()=>{var e={43:(e,t,o)=>{const r=o(929),s=o(920),i=o(17),n=o(147);let a=process.env.HOMEPATH;void 0===a&&(a="./");const l=i.resolve(a,"Music","Asidar");e.exports={convert:async function(e,t={filename,fileprefix,path:i,audioQuality}){if("string"!=typeof e)return;void 0===t.audioQuality&&(t.audioQuality=128),"string"!=typeof t.path&&(n.existsSync(l)||n.mkdirSync(l,{recursive:!0}),t.path=l);const o=s(e,{filter:"audioonly"}),a=i.resolve(t.path,t.fileprefix+t.filename+".mp3");return r(o).audioBitrate(t.audioQuality).withAudioCodec("libmp3lame").toFormat("mp3").on("error",(function(e){console.log(e.message)})).saveToFile(a)},DEFAULT_DL_PATH:l,USER_HOMEDIR:a}},23:(e,t,o)=>{const{ipcMain:r,dialog:s,BrowserWindow:i}=o(496),{defaultSchema:n,restoreDefault:a,saveSettings:l,getUserPreferences:c}=o(158),{convert:u}=o(43),d=o(30);e.exports=function(e){console.log("- events have loaded"),r.handle("select-dir",(async()=>await s.showOpenDialog(e,{properties:["openDirectory"]}))),r.handle("user-prefs",(e=>({user:c(),defaultPrefs:n}))),r.handle("restore",(()=>a)),r.handle("save",((e,t)=>{l(t)}));let t=[];r.handle("download",(async(e,o)=>{const r=c();if(!o)return;const s=(await d.getInfo(o)).items[0];return u(o,{filename:String(s.title).replace(/:|\?|\\|\/|\:|\*|<|>|\"|\|/g,""),fileprefix:r.filePrefix,path:r.defaultDownloadsPath}).then((e=>{e.on("end",(()=>{t.push(s.display_id)}))})),s})),r.handle("progress",((e,o)=>!!t.includes(o))),r.handle("clear",(()=>{t=[]}))}},158:(e,t,o)=>{const r=o(681),{DEFAULT_DL_PATH:s}=o(43),i=new r,n="user-settings",a={defaultDownloadsPath:s,lastTimeUpdated:new Date,audioQuality:"128",filePrefix:""};e.exports={saveSettings:function(e){console.log(e),i.set(n,e)},restoreDefault:function(){i.set(n,a)},getUserPreferences:function(){const e=i.get(n);return e||i.set(n,a),e},defaultSchema:a}},496:e=>{"use strict";e.exports=require("electron")},681:e=>{"use strict";e.exports=require("electron-store")},929:e=>{"use strict";e.exports=require("fluent-ffmpeg")},920:e=>{"use strict";e.exports=require("ytdl-core")},30:e=>{"use strict";e.exports=require("ytdl-getinfo")},147:e=>{"use strict";e.exports=require("fs")},17:e=>{"use strict";e.exports=require("path")},310:e=>{"use strict";e.exports=require("url")}},t={};function o(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}(()=>{const{app:e,BrowserWindow:t,dialog:r}=o(496),s=o(17),i=o(310),n=o(23);function a(){const e=s.join(__dirname,"../build","index.html"),o=new t({height:480,width:680,resizable:!1,webPreferences:{nodeIntegration:!0,contextIsolation:!1},icon:s.join(__dirname,"../assets","asidar.ico")});n(o),o.on("closed",(()=>null==o)),void 0!==process.env.MODE?o.loadURL("http://localhost:3000/").then((()=>{o.webContents.openDevTools({mode:"detach"})})):(console.log("- production build test"),o.removeMenu(),o.loadURL(i.format({protocol:"file",pathname:e,slashes:!0})))}console.log("- mode: ",process.env.MODE),e.whenReady().then((()=>{a(),e.on("activate",(()=>{0==t.getAllWindows().length&&a()}))})),e.on("window-all-closed",(()=>{"darwin"!=process.platform&&e.quit()}))})()})();