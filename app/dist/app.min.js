(()=>{var e={23:(e,t,s)=>{const{ipcMain:r,dialog:o,BrowserWindow:i}=s(496),{audioConverter:n}=s(478),a=s(30),l=new(s(158));e.exports=function(e=i){console.log("- events have loaded"),r.handle("select-dir",(async()=>await o.showOpenDialog(e,{properties:["openDirectory"]}))),r.handle("user-prefs",(e=>({user:l.storedPreferences,defaultPrefs:l.defaultSchema}))),r.handle("restore",(()=>l.restoreDefault())),r.handle("save",((e,t)=>{l.saveSettings(t)}));let t=[];r.handle("download",(async(e,s)=>{const r=l.storedPreferences;if(!s)return;const o=(await a.getInfo(s)).items[0];return n(s,{outFilename:String(o.title).replace(/:|\?|\\|\/|\:|\*|<|>|\"|\|/g,""),outPath:r.defaultDownloadsPath,filePrefix:r.filePrefix,audioQuality:r.audioQuality}).then((e=>{e.on("end",(()=>{t.push(o.display_id)}))})),o})),r.handle("progress",((e,s)=>!!t.includes(s))),r.handle("clear",(()=>{t=[]}))}},158:(e,t,s)=>{const r=s(681),o=(s(17),new r);e.exports=class{constructor(){this.USER_SETTINGS_KEY="user-settings",this.storedPreferences=o.get(this.USER_SETTINGS_KEY),this.defaultSchema={defaultDownloadsPath:"C:\\",audioQuality:"128",filePrefix:""},this.storedPreferences||o.set(this.USER_SETTINGS_KEY,this.defaultSchema)}saveSettings(e){o.set(this.USER_SETTINGS_KEY,e)}restoreDefault(){o.set(this.USER_SETTINGS_KEY,this.defaultSchema)}}},478:e=>{"use strict";e.exports=require("asidar-lib")},496:e=>{"use strict";e.exports=require("electron")},681:e=>{"use strict";e.exports=require("electron-store")},30:e=>{"use strict";e.exports=require("ytdl-getinfo")},81:e=>{"use strict";e.exports=require("child_process")},17:e=>{"use strict";e.exports=require("path")},282:e=>{"use strict";e.exports=require("process")},310:e=>{"use strict";e.exports=require("url")},837:e=>{"use strict";e.exports=require("util")}},t={};function s(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,s),i.exports}(()=>{const{app:e,BrowserWindow:t,dialog:r}=s(496),o=s(17),i=s(310),n=s(23),{stderr:a}=(s(81),s(837),s(282));function l(){const e=o.join(__dirname,"../build","index.html"),s=new t({height:480,width:680,resizable:!1,webPreferences:{nodeIntegration:!0,contextIsolation:!1},icon:o.join(__dirname,"../assets","asidar.ico")});n(s),s.on("closed",(()=>null==s)),void 0!==process.env.MODE?s.loadURL("http://localhost:3000/").then((()=>{s.webContents.openDevTools({mode:"detach"})})):(s.removeMenu(),s.loadURL(i.format({protocol:"file",pathname:e,slashes:!0})))}console.log("- mode: ",process.env.MODE),e.whenReady().then((()=>{l(),e.on("activate",(()=>{0==t.getAllWindows().length&&l()}))})),e.on("window-all-closed",(()=>{"darwin"!=process.platform&&e.quit()}))})()})();