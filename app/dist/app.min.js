(()=>{var e={43:(e,t,o)=>{const r=o(929),s=o(920),n=o(17),i=o(147);let a=process.env.HOMEPATH;void 0===a&&(a="./");const l=n.resolve(a,"Music","Asidar");e.exports={convert:async function(e,t={filename,fileprefix,path:n,audioQuality}){if("string"!=typeof e)return;void 0===t.audioQuality&&(t.audioQuality=128),"string"!=typeof t.path&&(i.existsSync(l)||i.mkdirSync(l,{recursive:!0}),t.path=l);const o=s(e,{filter:"audioonly"}),a=n.resolve(t.path,t.fileprefix+t.filename+".mp3");return r(o).audioBitrate(t.audioQuality).withAudioCodec("libmp3lame").toFormat("mp3").on("error",(function(e){console.log(e.message)})).saveToFile(a)},DEFAULT_DL_PATH:l,USER_HOMEDIR:a}},23:(e,t,o)=>{const{ipcMain:r,dialog:s,BrowserWindow:n}=o(496),{defaultSchema:i,restoreDefault:a,saveSettings:l,getUserPreferences:d}=o(158),{convert:c}=o(43),u=o(30);e.exports=function(e){console.log("- events have loaded"),r.handle("select-dir",(async()=>await s.showOpenDialog(e,{properties:["openDirectory"]}))),r.handle("user-prefs",(e=>({user:d(),defaultPrefs:i}))),r.handle("restore",(()=>a)),r.handle("save",((e,t)=>{l(t)}));let t=[];r.handle("download",(async(o,r)=>{e.webContents.send("test",!0);const s=d();if(!r)return;const n=(await u.getInfo(r)).items[0];return c(r,{filename:String(n.title).replace(/:|\?|\\|\/|\:|\*|<|>|\"|\|/g,""),fileprefix:s.filePrefix,path:s.defaultDownloadsPath}).then((e=>{e.on("end",(()=>{t.push(n.display_id)}))})),n})),r.handle("progress",((e,o)=>!!t.includes(o))),r.handle("clear",(()=>{t=[]}))}},158:(e,t,o)=>{const r=o(681),{DEFAULT_DL_PATH:s}=o(43),n=new r,i="user-settings",a={defaultDownloadsPath:s,lastTimeUpdated:new Date,audioQuality:"128",filePrefix:""};e.exports={saveSettings:function(e){console.log(e),n.set(i,e)},restoreDefault:function(){n.set(i,a)},getUserPreferences:function(){const e=n.get(i);return e||n.set(i,a),e},defaultSchema:a}},496:e=>{"use strict";e.exports=require("electron")},681:e=>{"use strict";e.exports=require("electron-store")},929:e=>{"use strict";e.exports=require("fluent-ffmpeg")},920:e=>{"use strict";e.exports=require("ytdl-core")},30:e=>{"use strict";e.exports=require("ytdl-getinfo")},147:e=>{"use strict";e.exports=require("fs")},17:e=>{"use strict";e.exports=require("path")},310:e=>{"use strict";e.exports=require("url")}},t={};function o(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}(()=>{const{app:e,BrowserWindow:t,dialog:r}=o(496),s=o(17),n=o(310),i=o(23);function a(){const e=s.join(__dirname,"../build","index.html"),o=new t({height:480,width:680,resizable:!1,webPreferences:{nodeIntegration:!0,contextIsolation:!1},icon:s.join(__dirname,"../assets","asidar.ico")});o.webContents.on("did-finish-load",(()=>{i(o)})),o.on("closed",(()=>null==o)),void 0!==process.env.MODE?o.loadURL("http://localhost:3000/").then((()=>{o.webContents.openDevTools({mode:"detach"})})):(console.log("- production build test"),o.removeMenu(),o.loadURL(n.format({protocol:"file",pathname:e,slashes:!0})))}console.log("- mode: ",process.env.MODE),e.whenReady().then((()=>{a(),e.on("activate",(()=>{0==t.getAllWindows().length&&a()}))})),e.on("window-all-closed",(()=>{"darwin"!=process.platform&&e.quit()}))})()})();