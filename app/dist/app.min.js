(()=>{var e={43:(e,t,s)=>{const r=s(288),o=s(472),i=s(920),n=s(30),a=s(81),c=s(17),l=s(147);o.setFfmpegPath(r);let p=process.env.HOMEPATH;void 0===p&&(p="./");const d=c.resolve(p,"Music","Asidar");e.exports=async function(e,t,s){if("string"!=typeof e)return;"string"!=typeof s&&(l.existsSync(d)||l.mkdirSync(d,{recursive:!0}),s=d);const o=(await n.getInfo(e,[],!1)).items[0],p=i(e,{filter:"audioonly"});void 0===t&&(t=o.title);const u=c.resolve(s,t+".mp3"),f=a.spawn(String(r),["-loglevel","8","-hide_banner","-progress","pipe:3","-i","pipe:4","-b:a","128k",u],{windowsHide:!0,stdio:["inherit","inherit","inherit","pipe","pipe"]});p.pipe(f?.stdio[4])},e.exports={DEFAULT_DL_PATH:d,USER_HOMEDIR:p}},23:(e,t,s)=>{const{ipcMain:r,dialog:o,BrowserWindow:i}=s(496),{defaultSchema:n,restoreDefault:a,saveSettings:c,getUserPreferences:l}=s(158);e.exports=function(e){console.log("- events have loaded"),r.handle("select-dir",(async()=>await o.showOpenDialog(e,{properties:["openDirectory"]}))),r.handle("user-prefs",(e=>({user:l(),defaultPrefs:n}))),r.handle("restore",(()=>a)),r.handle("save",((e,t)=>{c(t)}))}},158:(e,t,s)=>{const r=s(681),{DEFAULT_DL_PATH:o}=s(43),i=new r,n="user-settings",a={defaultDownloadsPath:o,lastTimeUpdated:new Date};e.exports={saveSettings:function(e){console.log(e),i.set(n,e)},restoreDefault:function(){i.set(n,a)},getUserPreferences:function(){const e=i.get(n);return e||i.set(n,a),e},defaultSchema:a}},496:e=>{"use strict";e.exports=require("electron")},681:e=>{"use strict";e.exports=require("electron-store")},472:e=>{"use strict";e.exports=require("ffmetadata")},288:e=>{"use strict";e.exports=require("ffmpeg-static")},920:e=>{"use strict";e.exports=require("ytdl-core")},30:e=>{"use strict";e.exports=require("ytdl-getinfo")},81:e=>{"use strict";e.exports=require("child_process")},147:e=>{"use strict";e.exports=require("fs")},17:e=>{"use strict";e.exports=require("path")},310:e=>{"use strict";e.exports=require("url")}},t={};function s(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,s),i.exports}(()=>{const{app:e,BrowserWindow:t,dialog:r}=s(496),o=s(17),i=s(310),n=s(23);function a(){const e=o.join(__dirname,"../build","index.html"),s=new t({height:480,width:680,resizable:!1,webPreferences:{nodeIntegration:!0,contextIsolation:!1},icon:o.join(__dirname,"../assets","asidar.ico")});n(s),s.on("closed",(()=>null==s)),void 0!==process.env.MODE?s.loadURL("http://localhost:3000/").then((()=>{s.webContents.openDevTools({mode:"detach"})})):(console.log("- production build test"),s.removeMenu(),s.loadURL(i.format({protocol:"file",pathname:e,slashes:!0})))}console.log("- mode: ",process.env.MODE),e.whenReady().then((()=>{a(),e.on("activate",(()=>{0==t.getAllWindows().length&&a()}))})),e.on("window-all-closed",(()=>{"darwin"!=process.platform&&e.quit()}))})()})();